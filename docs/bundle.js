(function(){var f;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ba(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function ca(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}var da="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ea;
if("function"==typeof Object.setPrototypeOf)ea=Object.setPrototypeOf;else{var fa;a:{var ha={sa:!0},ia={};try{ia.__proto__=ha;fa=ia.sa;break a}catch(a){}fa=!1}ea=fa?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ja=ea;
function h(a,b){a.prototype=da(b.prototype);a.prototype.constructor=a;if(ja)ja(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.ta=b.prototype}var ka="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},la="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;
function k(a,b){if(b){var c=la;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ka(c,a,{configurable:!0,writable:!0,value:b})}}k("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991});k("Number.MIN_SAFE_INTEGER",function(){return-9007199254740991});k("Math.log2",function(a){return a?a:function(a){return Math.log(a)/Math.LN2}});
k("Math.sign",function(a){return a?a:function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1}});window.onload=function(){new ma};function na(a){a=Error.call(this,"Assertion failed : "+a);this.message=a.message;"stack"in a&&(this.stack=a.stack);this.name="AssertionError"}h(na,Error);function m(a){a=Error.call(this,"Invalid file: "+a);this.message=a.message;"stack"in a&&(this.stack=a.stack);this.name="FileValidationError"}h(m,Error);function n(a){if(!a())throw new na(a.toString());};function p(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack);this.name="CircularDependencyError"}h(p,Error);
function oa(a){a.forEach(function(a){return a.C=!1});for(var b=a.filter(function(a){return pa(a)}).map(function(a){a.C=!0;return a}),c=0;c<b.length;c++)b[c].C=!0,b[c].F.forEach(function(a){a=a.s;pa(a)&&!1===a.C&&(a.C=!0,b.push(a))});n(function(){return b.every(function(a){return a instanceof q})});if(a.some(function(a){return!1===a.C}))throw new p("Circular dependency detected.");n(function(){return b.length===a.length});return b}
function qa(a){a.forEach(function(a){return a.C=!1});for(var b=a.filter(function(a){return ra(a)}).map(function(a){a.C=!0;return a}),c=0;c<b.length;c++)b[c].C=!0,b[c].D.forEach(function(a){a=a.o;ra(a)&&!1===a.C&&(a.C=!0,b.push(a))});n(function(){return b.every(function(a){return a instanceof q})});if(a.some(function(a){return!1===a.C}))throw new p("Circular dependency detected.");n(function(){return b.length===a.length});return b}
function pa(a){return a.D.every(function(a){return!r(a)||0===a.N||a.o.C})}function ra(a){return a.F.every(function(a){return!t(a)||0===a.O||a.s.C})}
function sa(a){var b=oa(a);b.forEach(function(a){a.value=Number.MIN_SAFE_INTEGER;a.D.forEach(function(b){r(b)&&(a.value=Math.max(a.value,b.o.v()))})});n(function(){return b.every(function(a){return a instanceof q})});n(function(){return b.every(function(a){var b=a.D.filter(function(a){return r(a)}).map(function(a){return a.o.v()}).reduce(function(a,b){return Math.max(a,b)});return a.value===b})});b.sort(u)}
function ta(a){var b=qa(a);b.forEach(function(a){a.value=Number.MAX_SAFE_INTEGER;a.F.forEach(function(b){t(b)&&(a.value=Math.min(a.value,b.s.A()-a.c))})});n(function(){return b.every(function(a){return a instanceof q})});n(function(){return b.every(function(a){var b=a.F.filter(function(a){return t(a)}).map(function(a){return a.s.A()}).reduce(function(a,b){return Math.min(a,b)});return a.value===b-a.c})});b.sort(u)};function ua(){this.c=va;this.a=[]}ua.prototype.add=function(a){this.a.push(a)};function wa(a){if(0===a.a.length)return null;for(var b=a.a[0],c=0;c<a.a.length;c++)0<a.c(a.a[c],b)&&(b=a.a[c]);return b}function xa(a){var b=wa(a);a.a[a.a.indexOf(b)]=a.a[a.a.length-1];a.a.pop();return b};function ma(){var a=document.getElementById("app");a.innerHTML="";this.m=v("div",{"class":"trakMapContainer"},a);this.parent=a;this.a=new ya;this.ja()}function za(a,b){w(a.b,function(){Aa(a.b,b)})}
function Ba(a){a.m.innerHTML="";var b=v("div",{"class":"menubar"},a.m),c=x("File",b);z([{icon:"icons/new.svg",action:a.ja.bind(a)},{icon:"icons/open.svg",action:a.ka.bind(a)},{icon:"icons/save.svg",action:a.ma.bind(a)},{icon:"icons/save-as.svg",action:a.na.bind(a)}],c.body);c=x("Group",b);z([{icon:"icons/plus.svg",action:function(){var b=a.b,c=new A(b,b.c.length,Ca);b.c.push(c);B(b);return c}}],c.body);c=x("Mode",b);z([{icon:"icons/arrow-two-left-right.svg",action:function(){var b=a.b;b.mode===C?
Da(b,D):b.mode===D&&Da(b,C)}}],c.body);c=x("Print",b);z([{icon:"icons/print.svg",action:a.la.bind(a)}],c.body);b=x("About",b);z([{icon:"icons/info.svg",action:function(){return alert('TrakMap, Version: 1.2.0\u03b2\n\nFor help and support, please visit:\n\nhttps://andymac-2.github.io/trakmap/instructions\n\n\n\nCopyright 2018 Andrew Pritchard\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n')}},
{icon:"icons/question.svg",action:function(){return window.open("https://andymac-2.github.io/trakmap/instructions")}}],b.body);E("div",{"class":"menuBarPlaceholder"},a.m);B(a.b);a.m.appendChild(a.b.m)}f=ma.prototype;f.ja=function(){Ea(this.a);this.b=new F(Fa);Ba(this)};f.ka=function(){var a=this;Ga(this.a,function(b){return za(a,b)},function(a){console.error(a)})};
f.ma=function(){function a(a){console.error(a)}function b(){}var c=JSON.stringify(G(this.b),null,"\t");Ha(this.a)?Ia(this.a,b,a,c):Ja(this.a,b,a,this.b.title+".json",c)};f.na=function(){var a=JSON.stringify(G(this.b),null,"\t");Ja(this.a,function(){},function(a){console.error(a)},this.b.title+".json",a)};f.la=function(){var a=new F(G(this.b));B(a);this.parent.innerHTML=a.m.outerHTML;this.parent.children[0].setAttribute("class","trakMapPage");window.print();this.parent.innerHTML="";this.parent.appendChild(this.m)};function Ka(a){this.m=a;this.J=[];this.a=[];a.addEventListener("click",this.click.bind(this),!0)}Ka.prototype.click=function(a){for(var b=0;b<this.J.length;b++)for(;this.J[b]&&(!this.m.contains(this.J[b].m)||!this.J[b].m.contains(a.target));)this.J[b].event(),this.J[b]=this.J[this.J.length-1],this.J.pop();for(b=0;b<this.a.length;b++)this.a[b].m.parentNode.contains(a.target)||this.a[b].event()};function La(a,b){var c=a.indexOf(b);n(function(){return 0<=c});a[c]=a[a.length-1];a.pop()}function H(a,b){n(function(){return a[b.index]===b});for(var c=b.index;c<a.length-1;c++)a[c]=a[c+1],a[c].index=c;a.pop()}function Ma(a,b,c){n(function(){return a[b].index===b});n(function(){return a[c].index===c});var d=a[b];a[b]=a[c];a[c]=d;a[b].index=b;a[c].index=c}function Na(a){return(new Date(a)).toISOString().slice(0,10)}
function Oa(a,b){var c=document.body,d=E("a",{style:"display:none;"},c);d.href="download"in d?URL.createObjectURL(new Blob([b],{type:"application/json"})):"data:application/octet-stream,"+encodeURIComponent(b);d.download=a;d.click();c.removeChild(d)}
function Pa(a){var b=document.body,c=E("input",{type:"file",style:"display:none;",accept:".json"},b),d=new FileReader;d.onload=function(){a(d.result);b.contains(c)&&b.removeChild(c)};c.addEventListener("change",function(){d.readAsText(c.files[0])});c.click()}function I(a){return 97<a.length?a.slice(0,97)+"...":a}Na=function(a){return a.toISOString().slice(0,10)};function Qa(a){a=new Date(a);return Math.floor((a.valueOf()-6E4*a.getTimezoneOffset())/864E5)};function J(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];return b.reduceRight(function(a,b){return Ra(b,a)})}function Ra(a,b){return function(c,d){for(var e=[],g=1;g<arguments.length;++g)e[g-1]=arguments[g];a.apply(null,[function(a){for(var d=[],e=0;e<arguments.length;++e)d[e]=arguments[e];return b.apply(null,[c].concat(d instanceof Array?d:ca(ba(d))))}].concat(e instanceof Array?e:ca(ba(e))))}}function ya(){this.g=new Sa;this.h=new Ta;this.c=new Ua;this.a=null}
function Ha(a){return a.a&&a.a.u()}function Ea(a){a.a&&(a.a.P(),a.a=null)}
function Ga(a,b,c){Ea(a);var d=v("div",{"class":"modal"},document.body),e=v("div",{"class":"fileDialog"},d);v("div",{},e).textContent="Open File:";v("hr",{},e);var g=v("button",{"class":"downloadDialogButton"},e);g.textContent="Open from Microsoft Onedrive";g.addEventListener("click",function(){a.a=a.h;document.body.removeChild(d);Va(a.a,b,c)});g=v("button",{"class":"downloadDialogButton"},e);g.textContent="Open from Google Drive";g.addEventListener("click",function(){a.a=a.g;document.body.removeChild(d);
Wa(a.a,b,c)});g=v("button",{"class":"downloadDialogButton"},e);g.textContent="Upload File";g.addEventListener("click",function(){a.a=a.c;document.body.removeChild(d);Xa(b,c)});g=v("button",{"class":"downloadDialogButton"},e);g.textContent="Cancel";g.addEventListener("click",function(){document.body.removeChild(d);c()})}
function Ja(a,b,c,d,e){var g=v("div",{"class":"modal"},document.body),l=v("dialog",{"class":"fileDialog"},g);v("div",{},l).textContent="Save File As:";v("hr",{},l);var y=v("input",{type:"text",value:d},l);v("hr",{},l);d=v("button",{"class":"downloadDialogButton"},l);d.textContent="Save to Microsoft Onedrive";d.addEventListener("click",function(){a.a=a.h;document.body.removeChild(g);Ya(a.a,b,c,y.value,e)});d=v("button",{"class":"downloadDialogButton"},l);d.textContent="Save to Google Drive";d.addEventListener("click",
function(){a.a=a.g;document.body.removeChild(g);Za(a.a,b,c,y.value,e)});d=v("button",{"class":"downloadDialogButton"},l);d.textContent="Download File";d.addEventListener("click",function(){a.a=a.c;document.body.removeChild(g);var d=a.a;d.a=y.value;d.B(b,c,e)});d=v("button",{"class":"downloadDialogButton"},l);d.textContent="Cancel";d.addEventListener("click",function(){document.body.removeChild(g);c()})}function Ia(a,b,c,d){n(function(){return null!==a.a});a.a.B(b,c,d)}
function Sa(){var a=this;this.g=["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"];this.a=!1;this.c=null;window.gapi.load("client:auth2:picker",function(){return $a(a)})}Sa.prototype.u=function(){return null!==this.c};Sa.prototype.P=function(){this.c=null};function Za(a,b,c,d,e){a.a?K(a)?ab(a,b,c,d,e):J(function(b){return bb(a,b,c)},function(b){return ab(a,b,c,d,e)})(b):c()}
Sa.prototype.B=function(a,b,c){var d=this;n(function(){return d.u()});this.a?K(this)?cb(this,a,b,c):J(function(a){return bb(d,a,b)},function(a){return cb(d,a,b,c)})(a):b()};function Wa(a,b,c){if(a.a){var d=J(function(b){return db(a,b)},function(b,d){return eb(a,b,c,d)});K(a)?d(b):J(function(b){return bb(a,b,c)},function(a){return d(a)})(b)}}
function $a(a){window.gapi.client.init({apiKey:"AIzaSyCYeIi5ThOCg1tPdy52ALudL_W-E_aipzo",clientId:"899992407737-pdogm033l5v7tb2j8n2g5n4hpo3r4ftd.apps.googleusercontent.com",discoveryDocs:a.g,scope:"https://www.googleapis.com/auth/drive.file"}).then(function(){a.a=!0})}function K(a){return a.a&&window.gapi.auth2.getAuthInstance().isSignedIn.get()}function fb(a){n(function(){return K(a)});return window.gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token}
function db(a,b){n(function(){return!0===a.a});n(function(){return K(a)});var c=window.google.picker.ViewId.DOCS;(new window.google.picker.PickerBuilder).addView(c).setOAuthToken(fb(a)).setDeveloperKey("AIzaSyCYeIi5ThOCg1tPdy52ALudL_W-E_aipzo").setCallback(b).build().setVisible(!0)}
function bb(a,b,c){n(function(){return!0===a.a});b=b||function(){};window.gapi.auth2.getAuthInstance().signIn({scope:"https://www.googleapis.com/auth/drive.file"}).then(function(a){(a=a.getAuthResponse())&&!a.error?b():c()}).catch(function(){c()})}
function eb(a,b,c,d){n(function(){return!0===a.a});n(function(){return K(a)});var e=window.google.picker.Response.ACTION,g=window.google.picker.Response.DOCUMENTS,l=window.google.picker.Action.CANCEL,y=window.google.picker.Document.ID;d[e]==window.google.picker.Action.PICKED?window.gapi.client.drive.files.get({fileId:d[g][0][y],alt:"media"}).execute(function(a){b(a)}):d[e]==l&&c(d)}
function ab(a,b,c,d,e){n(function(){return!0===a.a});n(function(){return K(a)});d="\r\n---------1089738750193135781034\r\nContent-Type: application/json\r\n\r\n"+JSON.stringify({name:d+".json",mimeType:"application/json"})+"\r\n---------1089738750193135781034\r\nContent-Type: application/json\r\n\r\n"+e+"\r\n---------1089738750193135781034--";window.gapi.client.request({path:"/upload/drive/v3/files",method:"POST",params:{uploadType:"multipart"},headers:{"Content-Type":'multipart/related; boundary="-------1089738750193135781034"'},
body:d}).execute(function(a){void 0===a.name?c():b(a.name)})}function cb(a,b,c,d){n(function(){return!0===a.a});n(function(){return null!==a.c});n(function(){return K(a)});console.log(a.c);window.gapi.client.request({path:"/upload/drive/v3/files/"+a.c,method:"PATCH",params:{uploadType:"media"},body:d}).execute(function(a){void 0===a.name?c():b(a.name)})}function Ta(){this.G=this.g=this.h=this.c=this.a=null}Ta.prototype.u=function(){return null!==this.c};
Ta.prototype.P=function(){this.h=this.c=this.a=null};
function Va(a,b,c){J(function(a){window.OneDrive.open({clientId:"3f9462f2-10c5-4686-a3ba-8eb21ea94ab9",action:"download",multiSelect:!1,advanced:{queryParameters:"select=id,name,parentReference"},success:a,cancel:c,error:c})},function(b,e){a.g=e.accessToken;a.G=e.apiEndpoint;if(!e||!e.value||0>=e.value.length)return c(e);e=e.value[0];a.a=e.name;a.c=e.parentReference.id;a.h=e.parentReference.driveId;fetch(e["@microsoft.graph.downloadUrl"]).then(b,c)},function(a,b){b.json().then(a,c)})(b)}
function Ya(a,b,c,d,e){J(function(a){window.OneDrive.save({clientId:"3f9462f2-10c5-4686-a3ba-8eb21ea94ab9",action:"query",advanced:{},success:a,cancel:c,error:c})},function(b,l){a.g=l.accessToken;a.G=l.apiEndpoint;if(!l||!l.value||0>=l.value.length)return c(l);var g=l.value[0];l=l.apiEndpoint+"drives/"+g.parentReference.driveId+"/items/"+g.id+":/"+encodeURI(d)+":/content";fetch(l,{method:"PUT",headers:{Authorization:"Bearer "+a.g,"Content-Type":"application/json"},body:e}).then(function(c){a.a=d;
a.c=g.id;a.h=g.parentReference.driveId;b(c)},c)},function(b,d){if(!1===d.ok)return c(d);b(a.a)})(b)}
Ta.prototype.B=function(a,b,c){var d=this;n(function(){return null!==d.g});n(function(){return null!==d.a});n(function(){return null!==d.h});n(function(){return null!==d.c});n(function(){return null!==d.G});var e=this.G+"drives/"+this.h+"/items/"+this.c+":/"+encodeURI(this.a||"Untitled.json")+":/content";fetch(e,{method:"PUT",headers:{Authorization:"Bearer "+this.g,"Content-Type":"application/json"},body:c}).then(function(c){if(!1===c.ok)return b(c);a(d.a)},b)};function Ua(){this.a=null}
Ua.prototype.u=function(){return null!==this.a};Ua.prototype.P=function(){this.a=null};function Xa(a,b){Pa(function(c){try{a(JSON.parse(c))}catch(d){b(d)}})}Ua.prototype.B=function(a,b,c){var d=this;n(function(){return null!==d.a});Oa(this.a,c);a(this.a)};function A(a,b,c){this.b=a;this.index=b;this.h=[];this.g=[];this.a=Number.MAX_SAFE_INTEGER;this.c=Number.MIN_SAFE_INTEGER;this.u=0;gb(this,c)}var Ca={name:"Untitled",comment:"",priority:0};function gb(a,b){n(function(){return!(b instanceof A)});a.name=b.name.toString();a.j=b.comment.toString();a.priority=b.priority|0;if(0>a.priority)throw new m('Product group "'+a.name+'", has an invalid priority');}A.prototype.toJSON=function(){throw new na("use the save() method on priority groups");};
function hb(a,b){b=L("g",{"class":"productDesc"},b);var c=a.u+a.a*M-50,d=a.u+a.c*M+50,e=a.b.B+100;ib(new jb({l:a.b.l,L:function(b){var c=a.priority;a.name=b.title;a.j=b.j;a.priority=b.priority;try{B(a.b)}catch(y){if(y instanceof p)a.priority=c,B(a.b),alert("Error: Circular dependency");else throw y;}},w:{"class":"productDescData",transform:"translate(-45, "+c+")"}},a.name,a.j,a.priority),b);L("rect",{width:e,height:d-c,x:-50,y:c,"class":"priorityGroupBox"},b);N(O,a.b.l,[{icon:"icons/delete.svg",action:function(){return kb(a.b,
a)}},{icon:"icons/move-up.svg",action:function(){return lb(a)}},{icon:"icons/move-down.svg",action:function(){return mb(a)}},{icon:"icons/plus.svg",action:function(){nb(a.b,a.index,Qa(Date.now()),0);B(a.b)}}],{transform:"translate(-50, "+(c-45)+")"},b)}function ob(a,b){n(function(){return b.i===a});La(a.h,b)}A.prototype.R=function(a){var b=this;n(function(){return a.i===b});this.h.push(a)};function pb(a,b){n(function(){return b.i===a});a.g.push(b)}
function qb(a,b){n(function(){return b.i===a});La(a.g,b)}
function rb(a){n(function(){return a.h.every(function(a){return a.direction===P||a.direction===Q})});n(function(){return a.g.every(function(a){return a.direction===P||a.direction===Q})});var b=a.h.concat(a.g);if(0===b.length)a.a=0,a.c=0;else{var c=[];a.a=Number.MAX_SAFE_INTEGER;a.c=Number.MIN_SAFE_INTEGER;a.b.mode===C&&b.sort(u).forEach(function(b){for(;sb(c,b);)b.level+=b.direction;c[b.level]=b.v();a.a=Math.min(b.level,a.a);a.c=Math.max(b.level,a.c)});a.b.mode===D&&b.sort(tb).forEach(function(b){for(;ub(c,
b);)b.level+=b.direction;c[b.level]=b.A();a.a=Math.min(b.level,a.a);a.c=Math.max(b.level,a.c)})}}function sb(a,b){if(void 0===a[b.level])return!1;if(0<b.I())return b.A()<a[b.level];if(0===b.I())return b.A()<=a[b.level]}function ub(a,b){if(void 0===a[b.level])return!1;if(0<b.I())return b.v()>a[b.level];if(0===b.I())return b.v()>=a[b.level]}
A.prototype.K=function(){var a=this;n(function(){return-1===a.b.c.indexOf(a)});this.h.slice().forEach(function(b){H(a.b.a,b);b.K()});this.g.slice().forEach(function(b){H(a.b.g,b);b.K()});n(function(){return 0===a.h.length});n(function(){return 0===a.g.length})};function lb(a){n(function(){return a.b.c[a.index]===a});0!==a.index&&(n(function(){return a.b.c[a.index-1].index===a.index-1}),Ma(a.b.c,a.index,a.index-1),B(a.b))}
function mb(a){n(function(){return a.b.c[a.index]===a});a.index!==a.b.c.length-1&&(n(function(){return a.b.c[a.index+1].index===a.index+1}),Ma(a.b.c,a.index,a.index+1),B(a.b))};function q(a,b,c){this.F=[];this.D=[];this.name=this.j="";this.level=0;this.direction=P;this.c=0;this.start={x:0,y:0};this.h={x:0,y:0};this.index=b;this.b=a;this.u=new R(this.b,this);this.name=c.name.toString();this.j=c.comment.toString()||"";this.level=c.level|0;this.c=c.weight|7;if(1>=this.c)throw new m('Product "'+this.name+'" has an invalid weight. Weight must be positive');this.g=c.health||1;2!==this.g&&3!==this.g&&(this.g=1);this.a=c.percent||0;this.a=Math.max(0,this.a);this.a=Math.min(1,this.a);
this.i=this.b.c[c.priorityGroup];if(!this.i)throw new m('Product "'+this.name+'" has an invalid product group index.');this.i.R(this)}var P=-1,Q=1;function u(a,b){var c=a.value-b.value;return 0!==c?c:a.I()-b.I()}function tb(a,b){var c=b.v()-a.v();return 0!==c?c:a.I()-b.I()}function va(a,b){var c=b.v()-a.v();return 0!==c?c:a.T()-b.T()}f=q.prototype;f.ia=function(){return{name:this.name,comment:this.j,level:this.level,weight:this.c,health:this.g,percent:this.a,priorityGroup:this.i.index}};
f.toJSON=q.prototype.ia;
function vb(a,b){b=L("g",{"class":"product"},b);b.addEventListener("click",function(){a.b.select(wb,a)});var c=a.U(),d=a.S();L("line",{"class":xb(a),x1:c.x,y1:c.y,x2:d.x,y2:d.y},b);d=(c.x+d.x)/2;yb(new zb({l:a.b.l,L:function(b){return Ab(a,b)},w:{"class":"productData",transform:"translate("+d+", "+c.y+")"},product:a},a.name,a.c,a.j,a.i),b);N(S,a.b.l,[{icon:"icons/arrow-left.svg",action:function(){return a.b.select(Bb,a)}},{icon:"icons/delete.svg",action:function(){return Cb(a.b,a)}},{icon:"icons/move-up.svg",
action:function(){return a.ha()}},{icon:"icons/move-down.svg",action:function(){return a.ga()}},{icon:"icons/arrow-right.svg",action:function(){return a.b.select(Db,a)}}],{transform:"translate("+d+", "+(c.y-45)+")"},b)}function Eb(a){return a.D.some(function(b){return b.o.H()<=a.H()})}function Fb(a){return a.F.some(function(b){return b.s.H()<=a.H()})}f.H=function(){return this.i.priority};f.A=function(){return this.value};f.v=function(){return this.value+this.c};
f.U=function(){if(this.b.mode===C)return{x:this.start.x+T,y:this.start.y};if(this.b.mode===D)return this.start};f.S=function(){if(this.b.mode===D)return{x:this.h.x-T,y:this.h.y};if(this.b.mode===C)return this.h};f.I=function(){return Gb+50*Math.log2(Math.abs(-this.c))};f.T=function(){return this.start.x+this.I()};function Hb(a){if(1===a.a)return"complete";switch(a.g){case 1:return"on-track";case 2:return"at-risk";case 3:return"late"}n(function(){return!1})}
function xb(a){return 1===a.a?"priorityLine complete":"priorityLine priority-"+a.H()}f.da=function(a){this.h.x=a};f.ea=function(a){this.start.x=a};f.ba=function(a){n(function(){return a instanceof U});La(this.D,a)};f.Y=function(a){var b=this;n(function(){return a.s===b});this.D.push(a)};f.ca=function(a){n(function(){return a instanceof U});La(this.F,a)};f.Z=function(a){var b=this;n(function(){return a.o===b});this.F.push(a)};f.V=function(a){n(function(){return a===P||a===Q});this.direction=a};
f.K=function(){var a=this;n(function(){return-1===a.b.a.indexOf(a)});this.D.slice().forEach(function(b){return V(a.b,b)});this.F.slice().forEach(function(b){return V(a.b,b)});n(function(){return 0===a.D.length});n(function(){return 0===a.F.length});ob(this.i,this)};function Ab(a,b){a.name=b.title;a.c=Math.max(Math.floor(b.M),1);a.j=b.j;w(a.b,function(){var c=b.i;c!==a.i&&(ob(a.i,a),a.i=c,a.i.R(a))})}f.ha=function(){this.level+=P;Ib(this.b,Q);this.V(P);B(this.b)};
f.ga=function(){this.level+=Q;Ib(this.b,P);this.V(Q);B(this.b)};function R(a,b){this.product=b;this.b=a}
function Jb(a,b){var c=a.b.mode===C?a.product.S():a.b.mode===D?a.product.U():void 0;b=L("g",{"class":"dateBubble",transform:"translate("+c.x+", "+c.y+")"},b);L("circle",{cx:"0",cy:"0",r:18,"class":"dateBubbleCircle "+Hb(a.product)},b);0!==a.product.a&&Kb(a.product.a*Math.PI*2,"percentArc "+xb(a.product),b);a.a(b,"dateBubbleText "+Hb(a.product));a.b.mode===C?N(S,a.b.l,[{icon:"icons/arrow-right.svg",action:function(){var b=Lb(a);W(a.b,a.product,b);B(a.b)}}],{transform:"translate(0, -40)"},b):a.b.mode===
D&&N(S,a.b.l,[{icon:"icons/arrow-left.svg",action:function(){var b=Lb(a);W(a.b,b,a.product);B(a.b)}}],{transform:"translate(0, -40)"},b);N(S,a.b.l,[{icon:"icons/percent.svg",action:function(){var b=a.product;b.a+=.25;1<b.a&&(b.a=0);B(b.b)}},{icon:"icons/health.svg",action:function(){var b=a.product;switch(b.g){case 1:b.g=2;break;case 2:b.g=3;break;default:b.g=1}B(b.b)}}],{transform:"translate(0, 40)"},b)}
R.prototype.a=function(a,b){var c=this.X(),d=""+c.getUTCFullYear();c="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")[c.getUTCMonth()]+(""+c.getUTCDate());L("text",{x:0,y:-3,"text-anchor":"middle","class":b},a).textContent=d;L("text",{x:0,y:7,"text-anchor":"middle","class":b},a).textContent=c};R.prototype.aa=function(){if(this.b.mode===C)return this.product.v();if(this.b.mode===D)return this.product.A()};R.prototype.X=function(){return new Date(864E5*this.aa())};
function Lb(a){return a.b.R({name:"New Product",comment:"",weight:7,priorityGroup:a.product.i.index,level:a.product.level,health:1,percent:0})};function X(a,b,c){this.D=[];this.F=[];this.b=a;this.index=b;this.direction=P;this.a={x:0,y:0};this.value=c.value|0;this.level=c.level|0;this.i=this.b.c[c.priorityGroup];if(!this.i)throw new m("Milestone has invalid product group index");pb(this.i,this)}var Mb={priorityGroup:0,value:Qa(Date.now()),level:0};f=X.prototype;f.fa=function(){var a=this;n(function(){return a.b.c[a.i.index]===a.i});return{level:this.level,value:this.value,priorityGroup:this.i.index}};f.toJSON=X.prototype.fa;
function Nb(a,b){b=L("g",{"class":"milestone",transform:"translate("+a.a.x+", "+a.a.y+")"},b);b.addEventListener("click",function(){a.b.select(wb,a)});L("path",{d:"M -21 0L 0 21L 21 0L 0 -21 Z"},b);a.oa(b,"milestoneDate");a.b.mode===C?N(S,a.b.l,[{icon:"icons/arrow-right.svg",action:function(){var b=Ob(a);W(a.b,a,b);B(a.b)}},{icon:"icons/delete.svg",action:function(){return Pb(a.b,a)}}],{transform:"translate(0, -40)"},b):a.b.mode===D&&N(S,a.b.l,[{icon:"icons/arrow-left.svg",action:function(){var b=
Ob(a);W(a.b,b,a);B(a.b)}},{icon:"icons/delete.svg",action:function(){return Pb(a.b,a)}}],{transform:"translate(0, -40)"},b);new Qb({W:S,l:a.b.l,onchange:function(b,d){a.value=d.$;B(a.b)},parent:b,w:{transform:"translate(0, 3)"}},a.aa());N(S,a.b.l,[{icon:"icons/move-up.svg",action:function(){return a.qa()}},{icon:"icons/move-down.svg",action:function(){return a.pa()}}],{transform:"translate(0, 40)"},b)}f.oa=R.prototype.a;f.X=R.prototype.X;f.aa=function(){return this.value};f.v=function(){return this.value};
f.A=function(){return this.value};f.U=function(){return this.a};f.S=function(){return this.a};f.I=function(){return 0};f.T=function(){return this.a.x};f.H=function(){return this.i.priority};f.ca=q.prototype.ca;f.ba=q.prototype.ba;f.Z=q.prototype.Z;f.Y=q.prototype.Y;f.ra=q.prototype.V;f.qa=q.prototype.ha;f.pa=q.prototype.ga;f.ea=function(a){this.a.x=a};f.da=X.prototype.ea;
f.K=function(){var a=this;n(function(){return-1===a.b.g.indexOf(a)});this.D.slice().forEach(function(b){return V(a.b,b)});this.F.slice().forEach(function(b){return V(a.b,b)});n(function(){return 0===a.D.length});n(function(){return 0===a.F.length});qb(this.i,this)};function Ob(a){return a.b.R({name:"New Product",comment:"",weight:7,priorityGroup:a.i.index,level:a.level})};function Rb(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack);this.name="HangingDependencyError"}h(Rb,Error);function U(a,b,c){this.b=a;this.index=b;Sb(this,c)}function Tb(a,b){b=L("g",{"class":"dependency"},b);b.addEventListener("dblclick",function(){return Ub(a.b,a)});if(Vb(a)){var c=a.b.mode===C?xb(a.s):a.b.mode===D?xb(a.o):void 0;Wb(a.s.U(),a.o.S(),c,b)}else Xb(a.o.S(),a.s.U(),b);return b}
function Vb(a){if(a.o.v()!==a.s.A())return!1;if(a.b.mode===C)return r(a);if(a.b.mode===D)return t(a);n(function(){return!1})}
function Sb(a,b){a.N=b.dependencyType?1:0;1===a.N?a.o=a.b.a[b.dependency]:0===a.N?a.o=a.b.g[b.dependency]:n(function(){return!1});if(!a.o)throw new m("Dependency has invalid dependency index");a.o.Z(a);a.O=b.dependentType?1:0;1===a.O?a.s=a.b.a[b.dependent]:0===a.O?a.s=a.b.g[b.dependent]:n(function(){return!1});if(!a.s)throw new m("Dependency has invalid dependent index");a.s.Y(a)}
U.prototype.a=function(){var a=this;n(function(){return 1===a.N?a.b.a[a.o.index]===a.o:a.b.g[a.o.index]===a.o});n(function(){return 1===a.O?a.b.a[a.s.index]===a.s:a.b.g[a.s.index]===a.s});return{dependencyType:this.N,dependency:this.o.index,dependentType:this.O,dependent:this.s.index}};U.prototype.toJSON=U.prototype.a;function r(a){return 0===a.O?!1:a.o.H()<=a.s.H()}function t(a){return 0===a.N?!1:a.s.H()<=a.o.H()}
U.prototype.K=function(){var a=this;n(function(){return-1===a.b.u.indexOf(a)});this.o.ca(this);this.s.ba(this)};function F(a){this.m=L("svg",{});this.P=this.B=0;this.a=[];this.g=[];this.u=[];this.c=[];this.l=new Ka(this.m);Aa(this,a)}var T=44,Gb=250,M=70,D=0,C=1,Fa={title:"New TrakMap",products:[{name:"New Product",comment:"",weight:7,priorityGroup:0,level:0,health:1,percent:0}],milestones:[Mb],dependencies:[{dependencyType:0,dependency:0,dependentType:1,dependent:0}],mode:C,priorityGroups:[Ca]};
function G(a){return{title:a.title,mode:a.mode,priorityGroups:a.c.map(function(a){return{name:a.name,comment:a.j,priority:a.priority}}),products:a.a.map(function(a){return a.ia()}),milestones:a.g.map(function(a){return a.fa()}),dependencies:a.u.map(function(a){return a.a()})}}
function Aa(a,b){a.title=b.title.toString()||"Untitled";a.mode=b.mode;if(a.mode!==C&&a.mode!==D)throw new m("Invalid TrakMap mode.");a.c=[];b.priorityGroups.forEach(function(b,d){a.c.push(new A(a,d,b))});a.g=[];b.milestones.forEach(function(b,d){a.g.push(new X(a,d,b))});a.a=[];b.products.forEach(function(b,d){a.a.push(new q(a,d,b))});a.u=[];b.dependencies.forEach(function(b,d){a.u.push(new U(a,d,b))});a.h=null;a.G=Yb}
function B(a){Zb(a);var b=Math.max(a.B+80,700)- -80,c=a.P- -80,d=(Math.max(a.B+80,700)+-80)/2;a.m.setAttribute("width",""+b);a.m.setAttribute("viewBox","-80 -80 "+b+" "+c+" ");a.m.innerHTML="";b=L("g",{},a.m);new $b(a.title,a.l,function(b,c){a.title=c.text},{"class":"trakMapTitle",transform:"translate("+d+" -40)"},b);var e=L("g",{"class":"TMConnections"},a.m),g=L("g",{"class":"TMProducts"},a.m),l=L("g",{"class":"TMBubbles"},a.m);a.a.forEach(function(a){vb(a,g);Jb(a.u,l)});a.g.forEach(function(a){return Nb(a,
l)});a.u.forEach(function(a){return Tb(a,e)});a.c.forEach(function(a){hb(a,g)})}function Zb(a){n(function(){return a.mode===D||a.mode===C});a.mode===C&&ac(a);a.mode===D&&bc(a);cc(a);dc(a);ec(a);fc(a)}
function fc(a){var b=new ua,c=0;a.B=0;var d=a.a.concat(a.g).sort(u),e=d[0].A();for(d.forEach(function(d){for(;0<b.a.length&&wa(b).v()<=d.A();){var g=wa(b);if(e!==g.v()){var l=e;e=g.v();c+=T+50*Math.log2(Math.abs(e-l));c=Math.max(c,g.T())}a.B=Math.max(a.B,c);g.da(c);xa(b)}e!==d.A()&&(g=e,e=d.A(),c+=T+50*Math.log2(Math.abs(e-g)));d.ea(c);b.add(d)});d=xa(b);){if(e!==d.v()){var g=e;e=d.v();c+=T+50*Math.log2(Math.abs(e-g));c=Math.max(c,d.T())}a.B=Math.max(a.B,c);d.da(c)}}
function bc(a){n(function(){return a.mode===D});a.a.forEach(function(a){if(!Fb(a))throw new Rb('Product "'+a.name+'" has no dependents in lazy mode.');});ta(a.a)}function ac(a){n(function(){return a.mode===C});a.a.forEach(function(a){if(!Eb(a))throw new Rb('Product "'+a.name+'" has no dependencies in greedy mode.');});sa(a.a)}function dc(a){var b=50;a.c.forEach(function(a){a.u=b-a.a*M;b+=M*(a.c-a.a)+130});a.P=b}function cc(a){a.c.forEach(function(a){rb(a)})}
function ec(a){a.a.forEach(function(a){a.start.y=a.h.y=a.level*M+a.i.u});a.g.forEach(function(a){a.a.y=a.level*M+a.i.u})}function gc(a,b,c){var d=a.c.map(function(a){return a.name});hc(function(c){b(a.c[c.currentTarget.value])},d,c)}F.prototype.R=function(a){a=new q(this,this.a.length,a);this.a.push(a);return a};function nb(a,b,c,d){b=new X(a,a.g.length,{priorityGroup:b,value:c,level:d});a.g.push(b);return b}
function W(a,b,c){b=new U(a,a.u.length,{dependencyType:b instanceof q?1:0,dependency:b.index,dependentType:c instanceof q?1:0,dependent:c.index});a.u.push(b);return b}function Ib(a,b){n(function(){return b===Q||b===P});a.a.forEach(function(a){return a.V(b)});a.g.forEach(function(a){return a.ra(b)})}function V(a,b){H(a.u,b);b.K()}function w(a,b){var c=G(a);try{b(),B(a)}catch(d){Aa(a,c),B(a),alert(d.name+": "+d.message)}}function Ub(a,b){w(a,function(){return V(a,b)})}
function Cb(a,b){w(a,function(){H(a.a,b);b.K()})}function kb(a,b){w(a,function(){H(a.c,b);b.K()})}function Pb(a,b){w(a,function(){H(a.g,b);b.K()})}function Da(a,b){w(a,function(){return ic(a,b)})}function ic(a,b){n(function(){return b===C||b===D});a.mode=b;a.mode===C&&a.a.forEach(function(b){if(!Eb(b)){var c=nb(a,b.i.index,b.A(),b.level);W(a,c,b)}});a.mode===D&&a.a.forEach(function(b){if(!Fb(b)){var c=nb(a,b.i.index,b.v(),b.level);W(a,b,c);n(function(){return Fb(b)})}})}var Db=0,Bb=1,wb=2,Yb=3;
F.prototype.select=function(a,b){var c=this;b===this.h&&a>=this.G||(a===wb&&this.G===Db&&b!==this.h?(n(function(){return c.h instanceof q}),n(function(){return b instanceof q||b instanceof X}),w(this,function(){return W(c,c.h,b)}),this.h=null,this.G=Yb):a===wb&&this.G===Bb&&b!==this.h?(n(function(){return c.h instanceof q}),n(function(){return b instanceof q||b instanceof X}),w(this,function(){return W(c,b,c.h)}),this.h=null,this.G=Yb):(this.h=b,this.G=a))};function zb(a,b,c,d,e){this.l=a.l;this.L=a.L||function(){};this.w=a.w||{};this.product=a.product;this.a=!1;Y(this,b,c,d,e)}function Y(a,b,c,d,e){a.title=b;a.title=""===a.title?"Untitled":a.title;a.M=c;a.j=d;a.j=""===a.j?"":a.j;a.i=e}function yb(a,b){Z(a.g.bind(a),a.c.bind(a),a.l,a.w,b)}
zb.prototype.c=function(a){var b=this;a.innerHTML="";var c=L("foreignObject",{"class":"flex-container",width:180,height:45,x:-90,y:-25},a);c=v("div",{"class":"flex-container"},c);var d=v("input",{"class":"productName "+Hb(this.product),value:this.title,type:"text",placeholder:"Product Name"},c);d.addEventListener("change",function(){Y(b,d.value,b.M,b.j,b.i);b.a=!0});var e=v("input",{"class":"productWeight",value:this.M,type:"number",required:""},c);e.addEventListener("change",function(){Y(b,b.title,
e.value|0,b.j,b.i);b.a=!0});c=L("foreignObject",{width:180,height:45,x:-90,y:5},a);c=v("div",{"class":"flex-container"},c);var g=v("input",{"class":"productComment comment",value:this.j,type:"text",placeholder:"Product Comment"},c);g.addEventListener("change",function(){Y(b,b.title,b.M,g.value,b.i);b.a=!0});gc(this.product.b,function(a){Y(b,b.title,b.M,b.j,a);b.a=!0},c)};
zb.prototype.g=function(a){this.a&&(this.L(this),this.a=!1);a.innerHTML="";var b=" ("+this.M+")";L("text",{"text-anchor":"middle",transform:"translate(0, -10)","class":"productName "+Hb(this.product)},a).textContent=I(this.title+b);L("text",{"class":"productComment comment","text-anchor":"middle",transform:"translate(0, 15)"},a).textContent=I(this.j)};function jb(a,b,c,d){this.l=a.l;this.L=a.L||function(){};this.w=a.w||{};this.a=!1;jc(this,b,c,d)}function jc(a,b,c,d){a.title=b;a.title=""===a.title?"Untitled":a.title;a.j=c;a.j=""===a.j?"":a.j;a.priority=d}function ib(a,b){Z(a.g.bind(a),a.c.bind(a),a.l,a.w,b)}
jb.prototype.c=function(a){var b=this;a.innerHTML="";var c=L("foreignObject",{width:315,height:45,x:0,y:-25},a),d=v("input",{"class":"priorityGroupTitle",value:this.title,type:"text",placeholder:"Product Group Name"},c);d.addEventListener("change",function(){jc(b,d.value,b.j,b.priority);b.a=!0});var e=v("input",{"class":"numberBox",value:this.priority,type:"number",required:""},c);e.addEventListener("change",function(){jc(b,b.title,b.j,e.value|0);b.a=!0});c=L("foreignObject",{width:315,height:45,
x:0,y:5},a);var g=v("input",{"class":"svgCommentBox comment",value:this.j,type:"text",placeholder:"Product Group Comment"},c);g.addEventListener("change",function(){jc(b,b.title,g.value,b.priority);b.a=!0})};
jb.prototype.g=function(a){this.a&&(this.L(this),this.a=!1);a.innerHTML="";L("text",{"text-anchor":"start",transform:"translate(0, -10)"},a).textContent=I("Priority "+this.priority+": "+this.title);L("text",{"class":"priorityGroupComment comment","text-anchor":"start",transform:"translate(0, 15)"},a).textContent=I(this.j)};var S=0,O=1;function Wb(a,b,c,d){c=L("g",{"class":c},d);L("line",{x1:b.x,y1:b.y,x2:a.x,y2:a.y},c)}function Xb(a,b,c){var d=60*Math.sign(a.y-b.y);L("path",{"class":"priorityLine slack",d:"M"+a.x+" "+a.y+" C"+(a.x+100)+" "+(a.y-d)+" "+(b.x-100)+" "+(b.y+d)+" "+b.x+" "+b.y},c)}function Kb(a,b,c){L("path",{"class":b,d:"M 0 -18 "+("A 18 18 0 0 1 "+18*Math.sin(a/3)+" "+-(18*Math.cos(a/3)))+("A 18 18 0 0 1 "+18*Math.sin(a/2)+" "+-(18*Math.cos(a/2)))+("A 18 18 0 0 1 "+18*Math.sin(a)+" "+-(18*Math.cos(a)))},c)};function kc(a){a=a.getCTM();return{x:a.e,y:a.f}}function Z(a,b,c,d,e){d=L("g",d,e);return lc(d,a,b,c,e)}function lc(a,b,c,d,e){function g(){b(a);e.contains(a)&&e.addEventListener("click",l)}function l(){c(a);e.removeEventListener("click",l);e.contains(a)&&d.J.push({m:e,event:g})}g();return a}document.createElement("canvas").getContext("2d");function mc(a,b,c){c=L("g",{"class":"menu"},c);switch(a){case S:var d=45*(b.length+1)/-2;break;case O:d=-22.5;break;case 2:d=-(45*(b.length+1))}for(a=0;a<b.length;a++){d+=45;var e=L("g",{transform:"translate("+d+", 0)","class":"menuEntry"},c);e.addEventListener("click",b[a].action);L("circle",{"class":"iconCircle",r:"14"},e);L("image",{x:"-8",y:"-8",height:"16",width:"16"},e).setAttributeNS("http://www.w3.org/1999/xlink","href",b[a].icon)}return c}
function N(a,b,c,d,e){Z(function(a){return a.innerHTML=""},function(b){b.innerHTML="";mc(a,c,b)},b,d,e)}function x(a,b){b=E("span",{"class":"menuBarSegment"},b);E("div",{"class":"menuBarHeader"},b).textContent=a;a=E("div",{"class":"menuBarContent"},b);return{m:b,body:a}}function z(a,b){b=E("span",{},b);b=L("svg",{width:45*a.length,height:40},b);mc(O,a,b).setAttribute("transform","translate (0, 20)")}
function hc(a,b,c){var d=E("select",{"class":"productPriorityGroup"},c);d.addEventListener("change",a);E("option",{selected:"",disabled:"",hidden:""},d).textContent="Please choose:";b.forEach(function(a,b){E("option",{value:b},d).textContent=a})};function E(a,b,c){a=document.createElement(a);if(b)for(var d in b)a.setAttribute(d,b[d]);c&&c.appendChild(a);return a}function nc(a,b,c,d){a=document.createElementNS(a,b);if(c)for(var e in c)a.setAttribute(e,c[e]);d&&d.appendChild(a);return a}var L=nc.bind(null,"http://www.w3.org/2000/svg"),v=nc.bind(null,"http://www.w3.org/1999/xhtml");function $b(a,b,c,d,e){switch(S){case O:this.a="start";break;case S:this.a="middle";break;default:n(function(){return!1})}this.l=b;this.onchange=c;this.parent=e;this.w=d;this.text=a;this.text=""===this.text?"Untitled":this.text;this.m=Z(this.g.bind(this),this.c.bind(this),this.l,this.w,this.parent)}
$b.prototype.c=function(a){var b=this,c=a.getBoundingClientRect().height;a.innerHTML="";var d=20*c,e="middle"===this.a?d/-2:0,g=kc(a),l=-g.x;g=-g.y;a=L("foreignObject",{width:d,height:1.4*c,transform:"translate("+l+", "+g+")",x:e-l,y:0-c-g},a);a=E("input",{"class":"svgTextBox",type:"text",value:this.text},a);a.focus();a.select();a.addEventListener("change",this.h.bind(this,a));a.addEventListener("change",function(a){return b.onchange(a,b)})};
$b.prototype.g=function(a){a.innerHTML="";L("text",{"text-anchor":this.a},a).textContent=I(this.text)};$b.prototype.h=function(a){this.text=a.value;this.text=""===this.text?"Untitled":this.text};function Qb(a,b){this.W=a.W;switch(this.W){case O:break;case 2:break;case S:break;default:n(function(){return!1})}this.l=a.l;this.onchange=a.onchange||function(){};this.parent=a.parent;this.w=a.w||{};this.min=a.min||null;this.max=a.max||null;this.$=b;this.m=Z(this.c.bind(this),this.a.bind(this),this.l,this.w,this.parent)}
Qb.prototype.a=function(a){var b=this;a.innerHTML="";switch(this.W){case O:var c=0;break;case 2:c=-105;break;case S:c=-52.5}a=L("foreignObject",{width:105,height:22.5,x:c,y:-15},a);c={"class":"svgDateBox",value:Na(new Date(864E5*this.$)),type:"date",required:""};this.min&&(c.min=Na(new Date(864E5*this.min)));this.max&&(c.max=Na(new Date(864E5*this.max)));a=v("input",c,a);a.addEventListener("blur",this.g.bind(this,a));a.addEventListener("blur",function(a){return b.onchange(a,b)})};
Qb.prototype.c=function(a){a.innerHTML=""};Qb.prototype.g=function(a){this.$=Qa((new Date(a.value+"T00:00:00.000Z")).valueOf())};}).call(this);
